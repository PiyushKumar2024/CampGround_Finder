<% layout('layout/boilerplate.ejs') %>

<style>
    .hero-section {
        background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
        background-size: cover;
        background-position: center;
        height: 65vh;
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
    }
    .feature-icon {
        font-size: 3rem;
        color: #198754; /* Bootstrap success color */
        margin-bottom: 1rem;
    }
    .carousel-item img {
        height: 450px;
        object-fit: cover;
    }
    .testimonial-card {
        background-color: #f8f9fa;
        border-radius: 10px;
        padding: 3rem;
        text-align: center;
        margin: 0 auto;
        max-width: 800px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .stats-section {
        background-color: #f8f9fa;
        padding: 3rem 0;
        border-radius: 15px;
    }
    .stat-item h2 {
        font-size: 2.5rem;
        font-weight: bold;
        color: #198754;
    }
    .newsletter-section {
        background: linear-gradient(135deg, #198754 0%, #0f5132 100%);
        color: white;
        padding: 3rem;
        border-radius: 15px;
    }
</style>

<!-- Hero Section -->
<div class="hero-section mb-5">
    <h1 class="display-3 fw-bold">Welcome to YelpCamp</h1>
    <p class="lead fs-4 mb-4">Discover the best camping grounds from around the world</p>
    <a href="/campgrounds" class="btn btn-lg btn-success fw-bold px-4">View All Campgrounds</a>
</div>

<div class="container">
    <!-- Features Section -->
    <div class="row text-center mb-5">
        <div class="col-md-4 mb-4">
            <i class="bi bi-map feature-icon"></i>
            <h3>Explore Nature</h3>
            <p class="text-muted">Find hidden gems and scenic spots curated by our community.</p>
        </div>
        <div class="col-md-4 mb-4">
            <i class="bi bi-people feature-icon"></i>
            <h3>Community Reviews</h3>
            <p class="text-muted">Read honest reviews from fellow campers before you book.</p>
        </div>
        <div class="col-md-4 mb-4">
            <i class="bi bi-pencil-square feature-icon"></i>
            <h3>Share Experiences</h3>
            <p class="text-muted">Create your own campgrounds and share your adventures.</p>
        </div>
    </div>

    <!-- Stats Section -->
    <div class="stats-section mb-5 shadow-sm">
        <div class="row text-center">
            <div class="col-md-4 mb-3 mb-md-0">
                <div class="stat-item">
                    <h2 class="counter">500+</h2>
                    <p class="text-muted fw-bold">Campgrounds</p>
                </div>
            </div>
            <div class="col-md-4 mb-3 mb-md-0">
                <div class="stat-item">
                    <h2>10k+</h2>
                    <p class="text-muted fw-bold">Happy Campers</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-item">
                    <h2>25k+</h2>
                    <p class="text-muted fw-bold">Reviews</p>
                </div>
            </div>
        </div>
    </div>

    <hr class="my-5">

    <!-- Campgrounds Carousel -->
    <h2 class="text-center mb-4">Featured Destinations</h2>
    <div id="campgroundCarousel" class="carousel slide mb-5 shadow rounded overflow-hidden" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://images.unsplash.com/photo-1478131143081-80f7f84ca84d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" class="d-block w-100" alt="Forest Camping">
                <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded">
                    <h5>Deep Forest Haven</h5>
                    <p>Experience the tranquility of the deep woods.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://images.unsplash.com/photo-1492648272180-61e45a8d98a7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" class="d-block w-100" alt="Mountain View">
                <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded">
                    <h5>Mountain Peak Resort</h5>
                    <p>Breathtaking views from the top of the world.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://images.unsplash.com/photo-1523987355523-c7b5b0dd90a7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" class="d-block w-100" alt="Lakeside Camping">
                <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded">
                    <h5>Lakeside Paradise</h5>
                    <p>Wake up to the sound of gentle waves.</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#campgroundCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#campgroundCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <hr class="my-5">

    <!-- FAQ Section -->
    <div class="row justify-content-center mb-5">
        <div class="col-lg-8">
            <h2 class="text-center mb-4">Frequently Asked Questions</h2>
            <div class="accordion shadow-sm" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Is YelpCamp free to use?
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <strong>Yes!</strong> Browsing campgrounds and reading reviews is completely free. You only need an account to post your own campgrounds or reviews.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            How do I add a campground?
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Once you have registered and logged in, simply click on the "Add Campground" button in the navigation bar or on this page to share your favorite spot.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Can I edit my reviews?
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Currently, you can delete your reviews and post new ones. We are working on an edit feature for future updates!
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Testimonials Carousel -->
    <h2 class="text-center mb-4">What Campers Say</h2>
    <div id="testimonialCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="testimonial-card">
                    <i class="bi bi-quote fs-1 text-success"></i>
                    <p class="lead fst-italic mt-3">"YelpCamp changed the way I travel. I found the most amazing secluded spot for my weekend getaway. Highly recommended!"</p>
                    <h5 class="mt-3 fw-bold">- Sarah J.</h5>
                </div>
            </div>
            <div class="carousel-item">
                <div class="testimonial-card">
                    <i class="bi bi-quote fs-1 text-success"></i>
                    <p class="lead fst-italic mt-3">"The community reviews are a lifesaver. I avoided a muddy campsite thanks to a recent review and found a sunny hill instead."</p>
                    <h5 class="mt-3 fw-bold">- Mike T.</h5>
                </div>
            </div>
            <div class="carousel-item">
                <div class="testimonial-card">
                    <i class="bi bi-quote fs-1 text-success"></i>
                    <p class="lead fst-italic mt-3">"Booking and sharing my own spots has never been easier. A fantastic platform for outdoor enthusiasts."</p>
                    <h5 class="mt-3 fw-bold">- Emily R.</h5>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon bg-dark rounded-circle" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon bg-dark rounded-circle" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <!-- Newsletter Section -->
    <div class="newsletter-section mb-5 text-center shadow">
        <h2 class="mb-3">Stay Updated</h2>
        <p class="mb-4">Subscribe to our newsletter for the latest campground additions and camping tips.</p>
        <div class="row justify-content-center">
            <div class="col-md-6">
                <form class="d-flex gap-2">
                    <input type="email" class="form-control" placeholder="Enter your email" aria-label="Email">
                    <button class="btn btn-light fw-bold" type="button">Subscribe</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Call to Action / Links -->
    <div class="row justify-content-center mb-5">
        <div class="col-md-8 text-center">
            <h3>Ready to start your adventure?</h3>
            <p class="text-muted mb-4">Join thousands of happy campers today.</p>
            <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
                <a href="/register" class="btn btn-outline-success btn-lg px-4 gap-3">Create an Account</a>
                <a href="/campgrounds/new" class="btn btn-success btn-lg px-4">Add a Campground</a>
            </div>
        </div>
    </div>
</div>

<script>
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                const counter = entry.target;
                const target = parseInt(counter.innerText);
                if (isNaN(target)) return;
                
                const suffix = counter.innerText.replace(target, '');
                const duration = 2000; // Animation duration in ms
                const start = performance.now();
                
                const animate = (currentTime) => {
                    const elapsed = currentTime - start;
                    const progress = Math.min(elapsed / duration, 1);
                    // Ease out quart function for smooth effect
                    const ease = 1 - Math.pow(1 - progress, 4);
                    
                    counter.innerText = Math.floor(ease * target) + suffix;
                    
                    if (progress < 1) requestAnimationFrame(animate);
                    else counter.innerText = target + suffix;
                };
                
                requestAnimationFrame(animate);
                observer.unobserve(counter);
            }
        });
    }, { threshold: 0.5 });

    document.querySelectorAll('.stat-item h2').forEach(el => observer.observe(el));
</script>
